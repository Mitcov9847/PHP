
# –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

## –í–≤–µ–¥–µ–Ω–∏–µ
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ, –∞ —Ç–∞–∫–∂–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–∞–≥–∏–Ω–∞—Ü–∏–∏. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–≤–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç–∞.
2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞** ‚Äî —Ñ–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞.
3. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ, –≥–¥–µ –∫–∞–∂–¥—ã–π —Ä–µ—Ü–µ–ø—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ JSON.

### –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `sanitize()`, –∫–æ—Ç–æ—Ä–∞—è –æ—á–∏—â–∞–µ—Ç –≤–≤–æ–¥ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤, —Ç–µ–≥–æ–≤ –∏ –ø—Ä–æ–±–µ–ª–æ–≤.
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `validate()`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤:
1. **create.php** ‚Äî —Ñ–æ—Ä–º–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞.
2. **index.php** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤.
3. **save_recipe.php** ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞.
4. **helpers.php** ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
   
## üîß –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ PHP –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—É–ª–∏–Ω–∞—Ä–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:

- –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É;
- –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ;
- –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –≤—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π;
- –ø–æ–ª—É—á–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º —Ä–µ—Ü–µ–ø—Ç–µ.

## üìÑ –§–∞–π–ª `storage/recipes.txt`

–•—Ä–∞–Ω–∏—Ç —Ä–µ—Ü–µ–ø—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON, –ø–æ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É –Ω–∞ —Å—Ç—Ä–æ–∫—É. –ü—Ä–∏–º–µ—Ä –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

```json
{"title":"–ë–æ—Ä—â","category":"–°—É–ø—ã","description":"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –±–æ—Ä—â.","ingredients":"–°–≤–µ–∫–ª–∞, –∫–∞–ø—É—Å—Ç–∞, –º—è—Å–æ...","steps":["–ù–∞—Ä–µ–∑–∞—Ç—å –æ–≤–æ—â–∏", "–û—Ç–≤–∞—Ä–∏—Ç—å –º—è—Å–æ", "–î–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∏"],"tags":["—É–∫—Ä–∞–∏–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è","–æ–±–µ–¥"],"created_at":"2025-04-22 14:30:00"}
```

---

## üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `index.php`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —Ä–µ—Ü–µ–ø—Ç–∞;
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –≤—ã–≤–æ–¥–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏–µ;
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–µ—Ç.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- `json_decode()` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç JSON-—Å—Ç—Ä–æ–∫–∏ –≤ –æ–±—ä–µ–∫—Ç—ã;
- `htmlspecialchars()` –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç XSS;
- –≠—Å—Ç–µ—Ç–∏—á–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ CSS.
![image](https://github.com/user-attachments/assets/ef268027-ef93-4786-8076-fe3bb2405e39)
---

## üìã –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ `recipe/index.php`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã –∏–∑ —Ñ–∞–π–ª–∞;
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ 5 —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É;
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `page` —á–µ—Ä–µ–∑ GET;
- –ü–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- `array_slice()` —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é;
- –í—Å–µ –ø–æ–ª—è (–≤–∫–ª—é—á–∞—è —à–∞–≥–∏, —Ç–µ–≥–∏ –∏ –¥–∞—Ç—É) –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è;
- –£–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏.
![image](https://github.com/user-attachments/assets/d1e67b90-2507-4e05-be6c-b53ee192233b)
![image](https://github.com/user-attachments/assets/e3f9e834-1d59-4317-a3fb-f0910ed2acf7)

---

## üìù –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ `recipe/create.php`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**:
- –§–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏–µ, —à–∞–≥–∏, —Ç–µ–≥–∏;
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö;
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `recipes.txt` –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON;
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö –ø–æ–ª–µ–π;
- `explode()` –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —à–∞–≥–æ–≤ –∏ —Ç–µ–≥–æ–≤;
- `json_encode()` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è.
- 
![image](https://github.com/user-attachments/assets/b286ad05-58c6-46b5-b5ea-ab5fdaee0083)
---

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ page:
–ë–µ—Ä–µ—Ç $_GET['page'] –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç 'index' –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:
–ß–µ—Ä–µ–∑ switch –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Ñ–∞–π–ª—ã:
create: src/handlers/recipe/create.php ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞.
show: src/handlers/recipe/show.php ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Ü–µ–ø—Ç–∞.
edit: src/handlers/recipe/edit.php ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞.
delete: src/handlers/recipe/delete.php ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞.
default: templates/index.php ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.
–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç require_once, —Ä–∞–∑–¥–µ–ª—è—è –ª–æ–≥–∏–∫—É –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

**`public/index.php`**

```php
<?php
/**
 * @file index.php
 * @description –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏.
 */

$filepath = __DIR__ . '/../storage/recipes.txt';
$recipes = [];

if (file_exists($filepath)) {
    $lines = file($filepath, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
    $recipes = array_reverse(array_map('json_decode', $lines));
    $latest = array_slice($recipes, 0, 2);
} else {
    $latest = [];
}
?>

<head>
    <meta charset="UTF-8">
    <title>–ö–∞—Ç–∞–ª–æ–≥ —Ä–µ—Ü–µ–ø—Ç–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
        }
        h1 {
            margin-bottom: 1rem;
        }
        .recipe {
            border-bottom: 1px solid #ccc;
            padding: 1rem 0;
        }
        .recipe h3 {
            margin: 0.2em 0;
        }
        .recipe p {
            margin: 0.3em 0;
        }
        .links {
            margin-top: 2rem;
        }
        .links a {
            display: inline-block;
            margin-right: 1rem;
            text-decoration: none;
            color: #0077cc;
        }
    </style>
</head>
<body>

<h1>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã</h1>

<?php if (empty($latest)): ?>
    <p>–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ü–µ–ø—Ç–æ–≤.</p>
<?php else: ?>
    <?php foreach ($latest as $recipe): ?>
        <div class="recipe">
            <h3><?= htmlspecialchars($recipe->title) ?></h3>
            <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> <?= htmlspecialchars($recipe->category) ?></p>
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br><?= nl2br(htmlspecialchars($recipe->description)) ?></p>
        </div>
    <?php endforeach; ?>
<?php endif; ?>

<div class="links">
    <a href="/recipe/create.php">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç</a>
    <a href="/recipe/index.php">üìã –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã</a>
</div>

```
index.php ‚Äî –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–≤–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ—Ü–µ–ø—Ç–∞ –∏–∑ storage/recipes.txt (JSON-–æ–±—ä–µ–∫—Ç—ã —Å title, category, description). PHP —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª, –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏, –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫, –±–µ—Ä–µ—Ç –ø–µ—Ä–≤—ã–µ –¥–≤–∞. HTML —Å CSS –≤—ã–≤–æ–¥–∏—Ç —Ä–µ—Ü–µ–ø—Ç—ã, —ç–∫—Ä–∞–Ω–∏—Ä—É—è –¥–∞–Ω–Ω—ã–µ (htmlspecialchars, nl2br). –ï—Å–ª–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–µ—Ç ‚Äî "–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ü–µ–ø—Ç–æ–≤". –°—Å—ã–ª–∫–∏: /recipe/create.php (–¥–æ–±–∞–≤–∏—Ç—å) –∏ /recipe/index.php (–≤—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã). –ü—Ä–æ—Å—Ç–æ–π –∫–æ–¥, —É–ª—É—á—à–∞–µ–º—ã–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π JSON –∏–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

**`src/helpers.php`**

```<?php
/**
 * @file helpers.php
 * @brief –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏: —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã.
 *
 * –í–∫–ª—é—á–∞–µ—Ç:
 * - cleanInput() ‚Äî —É–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã –∏–∑ —Å—Ç—Ä–æ–∫–∏
 * - checkRecipeForm() ‚Äî –ø—Ä–æ–≤–æ–¥–∏—Ç –±–∞–∑–æ–≤—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã —Ä–µ—Ü–µ–ø—Ç–∞
 *
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤: save_recipe.php
 */

/**
 * –ü—Ä–∏–≤–æ–¥–∏—Ç –≤—Ö–æ–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º—É –≤–∏–¥—É
 *
 * @param string $input
 * @return string
 */
function cleanInput(string $input): string {
    return htmlspecialchars(trim(strip_tags($input)));
}

/**
 * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–∞
 *
 * @param array $form
 * @return array —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
 */
function checkRecipeForm(array $form): array {
    $issues = [];

    $requiredFields = [
        'title' => '–£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞',
        'category' => '–ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞',
        'ingredients' => '–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã',
        'description' => '–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ',
    ];

    foreach ($requiredFields as $field => $message) {
        if (empty($form[$field])) {
            $issues[$field] = $message;
        }
    }

    if (!isset($form['steps']) || !is_array($form['steps']) || count(array_filter($form['steps'])) === 0) {
        $issues['steps'] = '–¢—Ä–µ–±—É–µ—Ç—Å—è —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —à–∞–≥ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è';
    }

    return $issues;
}

–§–∞–π–ª helpers.php —Å–æ–¥–µ—Ä–∂–∏—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ—Ü–µ–ø—Ç–∞–º–∏. –§—É–Ω–∫—Ü–∏—è cleanInput –æ—á–∏—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É, —É–¥–∞–ª—è—è —Ç–µ–≥–∏ (strip_tags), –ø—Ä–æ–±–µ–ª—ã (trim) –∏ —ç–∫—Ä–∞–Ω–∏—Ä—É—è —Å–∏–º–≤–æ–ª—ã (htmlspecialchars) –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç XSS. –§—É–Ω–∫—Ü–∏—è checkRecipeForm –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã —Ä–µ—Ü–µ–ø—Ç–∞, –ø—Ä–æ–≤–µ—Ä—è—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (title, category, ingredients, description) –∏ –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —à–∞–≥–∞ (steps) –≤ –º–∞—Å—Å–∏–≤–µ. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –ø–æ–ª—è –ø—É—Å—Ç—ã –∏–ª–∏ —à–∞–≥–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ save_recipe.php –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
```

**`handlers/save_recipe.php`**

```<?php
/**
 * @file save_recipe.php
 * @brief –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞.
 *
 * –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã (POST), –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
 * - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –æ—á–∏—Å—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö;
 * - –≤–∞–ª–∏–¥–∞—Ü–∏—é –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π;
 * - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª storage/recipes.txt –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON;
 * - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ —Ñ–æ—Ä–º—É –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ;
 * - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –ø—Ä–∏ —É—Å–ø–µ—Ö–µ.
 *
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç:
 * - cleanInput() –∏ checkRecipeForm() –∏–∑ helpers.php
 * - session –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ—à–∏–±–æ–∫ –∏ —Å—Ç–∞—Ä—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
 */

ob_start(); 
ini_set('display_errors', 1);
error_reporting(E_ALL);
session_start();

require_once __DIR__ . '/../../src/helpers.php';

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    // –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    $title = cleanInput($_POST['title'] ?? '');
    $category = cleanInput($_POST['category'] ?? '');
    $ingredients = cleanInput($_POST['ingredients'] ?? '');
    $description = cleanInput($_POST['description'] ?? '');
    $tags = $_POST['tags'] ?? [];

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —à–∞–≥–æ–≤
    $stepsRaw = $_POST['steps'] ?? [];
    $steps = array_filter(array_map('cleanInput', $stepsRaw));

    // –°–±–æ—Ä –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
    $formData = [
        'title' => $title,
        'category' => $category,
        'ingredients' => $ingredients,
        'description' => $description,
        'tags' => $tags,
        'steps' => $steps,
        'created_at' => date('Y-m-d H:i:s')
    ];

    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    $errors = checkRecipeForm($formData);

    if (!empty($errors)) {
        $_SESSION['errors'] = $errors;
        $_SESSION['old'] = $_POST;
        header('Location: ../../public/recipe/create.php');
        exit;
    }

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
    $line = json_encode($formData, JSON_UNESCAPED_UNICODE) . PHP_EOL;
    file_put_contents(__DIR__ . '/../../storage/recipes.txt', $line, FILE_APPEND);

    header('Location: ../../public/index.php');
    exit;
}

–§–∞–π–ª save_recipe.php –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç POST-–¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞. –í–∫–ª—é—á–∞–µ—Ç helpers.php –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è cleanInput –∏ checkRecipeForm. –û—á–∏—â–∞–µ—Ç –ø–æ–ª—è (title, category, ingredients, description, steps) —á–µ—Ä–µ–∑ cleanInput, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —à–∞–≥–∏, —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤ —Å —Ç–µ–≥–∞–º–∏ –∏ –¥–∞—Ç–æ–π —Å–æ–∑–¥–∞–Ω–∏—è. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º—É —á–µ—Ä–µ–∑ checkRecipeForm. –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –∏ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–µ—Å—Å–∏—é, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—è –Ω–∞ create.php. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ recipes.txt –∫–∞–∫ JSON-—Å—Ç—Ä–æ–∫—É –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é (index.php). –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ob_start –∏ —Å–µ—Å—Å–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–≤–æ–¥–æ–º –∏ –æ—à–∏–±–∫–∞–º–∏.
```

**`recipe/create.php`**

<?php
/**
 * @file create.php
 * @description –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
 *
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Å—Å–∏—é –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –æ—à–∏–±–∫–µ.
 */
session_start();

$formErrors = $_SESSION['errors'] ?? [];
$formData = $_SESSION['old'] ?? [];

unset($_SESSION['errors'], $_SESSION['old']);

?>

<form action="/handlers/save_recipe.php" method="post">
    <div class="form-group">
        <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞:</label>
        <input type="text" id="title" name="title" value="<?= htmlspecialchars($formData['title'] ?? '') ?>" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ë–ª–∏–Ω—ã —Å —Ç–≤–æ—Ä–æ–≥–æ–º">
        <?php if (!empty($formErrors['title'])): ?>
            <div class="error-message"><?= $formErrors['title'] ?></div>
        <?php endif; ?>
    </div>

    <div class="form-group">
        <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
        <select id="category" name="category">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é --</option>
            <?php foreach (['–°—É–ø—ã', '–°–∞–ª–∞—Ç—ã', '–î–µ—Å–µ—Ä—Ç—ã'] as $option): ?>
                <option value="<?= $option ?>" <?= ($formData['category'] ?? '') === $option ? 'selected' : '' ?>>
                    <?= $option ?>
                </option>
            <?php endforeach; ?>
        </select>
        <?php if (!empty($formErrors['category'])): ?>
            <div class="error-message"><?= $formErrors['category'] ?></div>
        <?php endif; ?>
    </div>

    <div class="form-group">
        <label for="ingredients">–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</label>
        <textarea id="ingredients" name="ingredients" rows="4" placeholder="–°–ø–∏—Å–æ–∫ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é"><?= htmlspecialchars($formData['ingredients'] ?? '') ?></textarea>
        <?php if (!empty($formErrors['ingredients'])): ?>
            <div class="error-message"><?= $formErrors['ingredients'] ?></div>
        <?php endif; ?>
    </div>

    <div class="form-group">
        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
        <textarea id="description" name="description" rows="3" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞"><?= htmlspecialchars($formData['description'] ?? '') ?></textarea>
        <?php if (!empty($formErrors['description'])): ?>
            <div class="error-message"><?= $formErrors['description'] ?></div>
        <?php endif; ?>
    </div>

    <div class="form-group">
        <label for="tags">–¢–µ–≥–∏:</label>
        <select name="tags[]" id="tags" multiple size="4">
            <?php foreach (['–í–µ–≥–∞–Ω', '–ë–µ–∑–≥–ª—é—Ç–µ–Ω–æ–≤—ã–π', '–ü—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π', '–ë—ã—Å—Ç—Ä—ã–π'] as $tag): ?>
                <option value="<?= $tag ?>" <?= in_array($tag, $formData['tags'] ?? []) ? 'selected' : '' ?>><?= $tag ?></option>
            <?php endforeach; ?>
        </select>
    </div>

    <div class="form-group">
        <label>–®–∞–≥–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:</label>
        <div id="steps-wrapper">
            <?php foreach ($formData['steps'] ?? [''] as $instruction): ?>
                <input type="text" name="steps[]" value="<?= htmlspecialchars($instruction) ?>" placeholder="–û–ø–∏—à–∏—Ç–µ —à–∞–≥..." required>
            <?php endforeach; ?>
        </div>
        <?php if (!empty($formErrors['steps'])): ?>
            <div class="error-message"><?= $formErrors['steps'] ?></div>
        <?php endif; ?>
        <button type="button" id="add-step-btn">+ –î–æ–±–∞–≤–∏—Ç—å —à–∞–≥</button>
    </div>

    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç</button>
</form>

```
document.getElementById('add-step-btn').addEventListener('click', () => {
    const stepField = document.createElement('input');
    stepField.type = 'text';
    stepField.name = 'steps[]';
    stepField.placeholder = '–û–ø–∏—à–∏—Ç–µ —à–∞–≥...';
    stepField.required = true;
    document.getElementById('steps-wrapper').appendChild(stepField);
});
```

–≠—Ç–æ—Ç JavaScript-–∫–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —à–∞–≥–æ–≤ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ create.php. –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å id="add-step-btn" —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π <input> —Å –∏–º–µ–Ω–µ–º steps[] (–¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –º–∞—Å—Å–∏–≤–∞ —à–∞–≥–æ–≤), –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–º "–û–ø–∏—à–∏—Ç–µ —à–∞–≥..." –∏ –∞—Ç—Ä–∏–±—É—Ç–æ–º required. –ü–æ–ª–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å id="steps-wrapper".

–§–∞–π–ª create.php ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Å—Å–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ ($_SESSION['errors']) –∏ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö ($_SESSION['old']), –æ—á–∏—â–∞—è –∏—Ö –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. HTML-—Ñ–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST-–∑–∞–ø—Ä–æ—Å –Ω–∞ /handlers/save_recipe.php —Å –ø–æ–ª—è–º–∏: title (—Ç–µ–∫—Å—Ç), category (–≤—ã–±–æ—Ä –∏–∑ –°—É–ø—ã/–°–∞–ª–∞—Ç—ã/–î–µ—Å–µ—Ä—Ç—ã), ingredients –∏ description (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –æ–±–ª–∞—Å—Ç–∏), tags (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä: –í–µ–≥–∞–Ω/–ë–µ–∑–≥–ª—é—Ç–µ–Ω–æ–≤—ã–π –∏ –¥—Ä.), steps (–º–∞—Å—Å–∏–≤ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π). –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–¥ –ø–æ–ª—è–º–∏. CSS-—Å—Ç–∏–ª–∏ –æ—Ñ–æ—Ä–º–ª—è—é—Ç —Ñ–æ—Ä–º—É, JavaScript –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è —à–∞–≥–æ–≤ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É. –î–∞–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ htmlspecialchars –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

**`recipe/index.php`**
```
<?php
/**
 * @file index.php
 * @description –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏ –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π.
 */

$filepath = __DIR__ . '/../../storage/recipes.txt';
$recipes = [];

if (file_exists($filepath)) {
    $lines = file($filepath, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
    $recipes = array_reverse(array_map('json_decode', $lines));
}

$page = isset($_GET['page']) ? max(1, (int)$_GET['page']) : 1;
$perPage = 5;
$total = count($recipes);
$totalPages = ceil($total / $perPage);
$offset = ($page - 1) * $perPage;
$currentRecipes = array_slice($recipes, $offset, $perPage);
?>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–°–ø–∏—Å–æ–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
        }
        .recipe {
            border-bottom: 1px solid #ccc;
            padding: 1rem 0;
        }
        .recipe h3 {
            margin: 0.2em 0;
        }
        .recipe p, .recipe ol {
            margin: 0.3em 0;
        }
        .pagination a, .pagination strong {
            margin: 0 5px;
            text-decoration: none;
        }
        .pagination {
            margin-top: 2rem;
        }
    </style>
</head>
<body>

<h1>–†–µ—Ü–µ–ø—Ç—ã (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ <?= $page ?>)</h1>

<?php if (empty($currentRecipes)): ?>
    <p>–ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–µ—Ç.</p>
<?php else: ?>
    <?php foreach ($currentRecipes as $recipe): ?>
        <div class="recipe">
            <h3><?= htmlspecialchars($recipe->title) ?></h3>
            <p><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</strong> <?= htmlspecialchars($recipe->category) ?></p>
            <p><strong>–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</strong><br><?= nl2br(htmlspecialchars($recipe->ingredients)) ?></p>
            <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong><br><?= nl2br(htmlspecialchars($recipe->description)) ?></p>
            <p><strong>–®–∞–≥–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:</strong></p>
            <ol>
                <?php foreach ($recipe->steps as $step): ?>
                    <li><?= htmlspecialchars($step) ?></li>
                <?php endforeach; ?>
            </ol>
            <?php if (!empty($recipe->tags)): ?>
                <p><strong>–¢–µ–≥–∏:</strong> <?= implode(', ', array_map('htmlspecialchars', $recipe->tags)) ?></p>
            <?php endif; ?>
            <p><em>–î–æ–±–∞–≤–ª–µ–Ω–æ: <?= htmlspecialchars($recipe->created_at) ?></em></p>
        </div>
    <?php endforeach; ?>
<?php endif; ?>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º -->
<div class="pagination">
    <?php if ($page > 1): ?>
        <a href="?page=<?= $page - 1 ?>">&laquo; –ù–∞–∑–∞–¥</a>
    <?php endif; ?>

    <?php for ($i = 1; $i <= $totalPages; $i++): ?>
        <?php if ($i === $page): ?>
            <strong>[<?= $i ?>]</strong>
        <?php else: ?>
            <a href="?page=<?= $i ?>"><?= $i ?></a>
        <?php endif; ?>
    <?php endfor; ?>

    <?php if ($page < $totalPages): ?>
        <a href="?page=<?= $page + 1 ?>">–í–ø–µ—Ä—ë–¥ &raquo;</a>
    <?php endif; ?>
</div>

<p><a href="/index.php">–ù–∞ –≥–ª–∞–≤–Ω—É—é</a></p>

–§–∞–π–ª index.php –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏–∑ storage/recipes.txt —Å –ø–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π. PHP-–ª–æ–≥–∏–∫–∞ —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª, –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç JSON-—Å—Ç—Ä–æ–∫–∏ –≤ –æ–±—ä–µ–∫—Ç—ã, –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø–æ—Ä—è–¥–æ–∫ (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏). –ü–∞–≥–∏–Ω–∞—Ü–∏—è: GET-–ø–∞—Ä–∞–º–µ—Ç—Ä page –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–º–∏–Ω. 1), –ø–æ 5 —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –æ–±—â–µ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ —Å–º–µ—â–µ–Ω–∏–µ. HTML —Å CSS –≤—ã–≤–æ–¥–∏—Ç —Ä–µ—Ü–µ–ø—Ç—ã (title, category, ingredients, description, steps, tags, created_at), —ç–∫—Ä–∞–Ω–∏—Ä—É—è –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ htmlspecialchars –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—è –ø–µ—Ä–µ–Ω–æ—Å—ã (nl2br). –ï—Å–ª–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ. –ü–∞–≥–∏–Ω–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç —Å—Å—ã–ª–∫–∏ "–ù–∞–∑–∞–¥", –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ "–í–ø–µ—Ä—ë–¥". –°—Å—ã–ª–∫–∞ –≤–µ–¥—ë—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é (/index.php).

```

## –û—Ç–≤–µ—Ç—ã –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ö–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã HTTP –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã?
–í PHP —Ñ–æ—Ä–º—ã –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–æ–≤ GET –∏ POST. –ú–µ—Ç–æ–¥ GET –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ URL –∏ —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –û–¥–Ω–∞–∫–æ, –æ–Ω –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫ –∫–∞–∫ –≤—Å—ë –≤–∏–¥–Ω–æ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ. –ú–µ—Ç–æ–¥ POST, –Ω–∞–ø—Ä–æ—Ç–∏–≤, –ø–µ—Ä–µ–¥–∞—ë—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–º –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –í –º–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ —è –∏—Å–ø–æ–ª—å–∑—É—é –º–µ—Ç–æ–¥ POST, —Ç–∞–∫ –∫–∞–∫ —Ñ–æ—Ä–º–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å.

### –ß—Ç–æ —Ç–∞–∫–æ–µ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ —á–µ–º –æ–Ω–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏?
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, HTML-—Ç–µ–≥–æ–≤ –∏ –ø—Ä–æ–±–µ–ª–æ–≤, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω–æ–≥–æ –∫–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, XSS-–∞—Ç–∞–∫). –í–∞–ª–∏–¥–∞—Ü–∏—è, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª–∞–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π, –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Ç.–¥. –í –º–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é sanitize(), –∫–æ—Ç–æ—Ä–∞—è –æ—á–∏—â–∞–µ—Ç –≤–≤–æ–¥ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤, –∞ –≤–∞–ª–∏–¥–∞—Ü–∏—é ‚Äî —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é validate(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–µ–¥—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ PHP –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö?
–í –ø—Ä–æ–µ–∫—Ç–µ —è –∏—Å–ø–æ–ª—å–∑—É—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π PHP –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö:
- `trim()` ‚Äî —É–¥–∞–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏;
- `strip_tags()` ‚Äî —É–¥–∞–ª—è–µ—Ç –≤—Å–µ HTML –∏ PHP —Ç–µ–≥–∏ –∏–∑ —Å—Ç—Ä–æ–∫–∏;
- `htmlspecialchars()` ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –∏—Ö HTML-—Å—É—â–Ω–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, `<` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ `&lt;`.

–≠—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–≤—è–∑–∫–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ `sanitize()`, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –Ω–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ.

### –í—ã–≤–æ–¥—ã
–í —Ö–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤, –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π. –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –±—ã–ª–æ —É–¥–µ–ª–µ–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, –¥–ª—è —á–µ–≥–æ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –≤–æ–∑–º–æ–∂–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ XSS-–∞—Ç–∞–∫–∏.

–¢–∞–∫–∂–µ –≤–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ HTTP –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã. –ú–µ—Ç–æ–¥ POST –±—ã–ª –≤—ã–±—Ä–∞–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ GET –∏ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## –ë–∏–±–ª–∏–æ–≥—Ä–∞—Ñ–∏—è
- PHP Manual. (2025). https://www.php.net/manual/en/
- W3Schools. (2025). PHP Forms. https://www.w3schools.com/php/php_forms.asp
- MDN Web Docs. (2025). HTML Forms. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form
